# M129 P3

## Lernziele
1. Sie können die Funkionen eines Routers erläutern
2. Sie können den Vorgang der Neuadresssierung eines Frames im Router erläutern
3. Sie können den Aufbau einer Routingtabelle erläutern
4. Sie kennen den Zusammenhang zwischen Netzwerkschema und Routingtabelle
5. Sie können eine Routingtabelle aus einem Netzwerkschema ableiten und umgekehrt
6. Sie können dynamisches Routing erläutern und kennen verschiedene Routingprotokolle
7. Sie können die verschiedenen Routertypen erläutern
8. Sie können Vor-/Nachteile von TCP und UDP erläutern
9. Sie kennen den Header eines TCP Segmentes und eine UDP Datagrammes
10. Sie können den Vorgang der Segmentierung (inkl. Sequence- Acknowledgenummer) bei TCP erläutern
11. Sie kennen die wichtigsten Portnummern
12. Sie kennen das Vorgehen bei der Fehlersuche und können die Kommandos arp, route, ping tracert und netstat korrekt anwenden

## LZ1: Sie können die Funkionen eines Routers erläutern
Ein Router ist ein Netzwerkgerät, das Datenpakete zwischen verschiedenen Netzwerken weiterleitet – z. B. zwischen deinem Heimnetzwerk und dem Internet.

## LZ2: Sie können den Vorgang der Neuadresssierung eines Frames im Router erläutern
### 1. Empfang auf einem Interface
- Der Router empfängt einen Frame (Schicht 2) mit:
    - MAC-Adresse des nächsten Ziels (Router selbst)
    - Enthaltenem IP-Paket (Schicht 3)

### 2. Entpacken und Analysieren
- Der Router entfernt den Layer-2-Header (MAC-Adressen).
- Er liest die Ziel-IP-Adresse im Layer-3-Paket.
- Anhand seiner Routing-Tabelle bestimmt er das passende Ausgangsinterface und das nächste Ziel (nächster Hop).

### 3. Neuer Frame-Aufbau (Neuadressierung)
- Der Router erstellt einen neuen Frame:
    - Neue Quell-MAC-Adresse = MAC des Ausgangsinterfaces des Routers
    - Neue Ziel-MAC-Adresse = MAC des nächsten Geräts (z. B. nächster Router oder Endgerät)
    - IP-Adresse bleibt gleich! (nur MAC-Adressen ändern sich)

### 4. Senden des neuen Frames
Der Router sendet diesen neuen Frame über das Ausgangsinterface weiter ins nächste Netzwerksegment.

## LZ3:  Sie können den Aufbau einer Routingtabelle erläutern

Hier in Lösung 1 sieht man den Standard Aufbau einer Routingtabelle die nicht korrekt gekürzt wurde:

![image](https://github.com/user-attachments/assets/6894419e-dced-4ffa-962e-6fe9a31d803b)

Hier in Lösung 2 jedoch sieht man wie korrekterweise alle Routen die den nächsten "Next Hop" wie die Standard-Route haben, aus dem Routing-Table entfernt wurden:

![image](https://github.com/user-attachments/assets/5f6d1e4f-149b-46e7-a112-6f064b52cd3a)

## LZ4 & LZ5: Sie kennen den Zusammenhang zwischen Netzwerkschema und Routingtabelle & Sie können eine Routingtabelle aus einem Netzwerkschema ableiten und umgekehrt

![image](https://github.com/user-attachments/assets/93d87721-fe2f-418e-9e95-defb86203966)

Hier noch in etwas einfacherer Form:
![image](https://github.com/user-attachments/assets/086276e0-dd28-4376-b6cf-fb00bf4237ed)

wird zu:

![image](https://github.com/user-attachments/assets/6894419e-dced-4ffa-962e-6fe9a31d803b)

Respektive:

![image](https://github.com/user-attachments/assets/5f6d1e4f-149b-46e7-a112-6f064b52cd3a)

## LZ6: Sie können dynamisches Routing erläutern und kennen verschiedene Routingprotokolle (IGP Protokolle)

### Was ist IGP?
Ein Interior Gateway Protocol wird innerhalb eines autonomen Systems (z. B. innerhalb eines Unternehmensnetzwerks) verwendet, um Routing-Informationen auszutauschen.

### Gängige IGP Protokolle
| Protokoll | Typ | Merkmale |
| ----------- | ----------- | ----------- |
| RIP (Routing Information Protocol) | Distance-Vector | Einfach, veraltet, max. 15 Hops, langsam |
| OSPF (Open Shortest Path First) | Link-State | Weit verbreitet, schnell, skaliert gut, nutzt SPF-Algorithmus |
| IS-IS (Intermediate System to Intermediate System) | Link-State | Ähnlich wie OSPF, in großen Netzwerken (v. a. Provider) |

### Hinweis
- OSPF ist am häufigsten in offenen Netzwerken (standardisiert).
- IS-IS wird oft im Backbone großer Provider verwendet, weniger im klassischen Unternehmensnetz.

### Was ist dynamisches Routing?
Dynamisches Routing ist ein Verfahren, bei dem Router automatisch Informationen über Netzwerkwege austauschen und Routing-Tabellen selbstständig aktualisieren – im Gegensatz zu statischem Routing, das manuell konfiguriert wird.

###Funktion
- Router kommunizieren über Routing-Protokolle (z. B. OSPF, RIP).
- Sie senden regelmäßig Informationen über erreichbare Netzwerke.
- Jeder Router berechnet den besten Pfad anhand von Metriken (z. B. Kosten, Anzahl Hops).
- Bei Änderungen im Netzwerk (z. B. Ausfall eines Links) passt sich die Route automatisch an.

### Vor- Nachteile

| Vorteile | Nachteile |
| -------- | --------- |
| Gut skalierbar für grössere Netzwerke | Höherer Ressourcenverbrauch (CPU, RAM, Bandbreite) |
| Entlastet Admins bei der Pflege der Routing-Tabelle | Komplexer als statisches Routing |
| Automatische Anpassung bei Netzwerkänderungen | Mögliche Angriffsfläche bei ungesicherten Protokollen |
